<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Attendance - Parent Dashboard</title>
<link rel="stylesheet" href="style.css">
<style>
/* ---------- Attendance Page Specific Styles ---------- */
.attendance-container {
  padding: 40px 20px;
  max-width: 1000px;
  margin: 0 auto;
  background-color: #fdf9f0;
  border-radius: 10px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.1);
}

.attendance-container h2 {
  color: #004d26;
  margin-bottom: 20px;
  text-align: center;
}

.attendance-container p {
  text-align: center;
  margin-bottom: 25px;
}

.attendance-container .controls {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 25px;
  flex-wrap: wrap;
}

.attendance-container .controls label {
  font-weight: bold;
  color: #004d26;
}

.attendance-container table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 30px;
}

.attendance-container table th,
.attendance-container table td {
  border: 1px solid #004d26;
  padding: 10px;
  text-align: center;
}

.attendance-container table th {
  background-color: #ffcc00;
  color: #004d26;
}

.attendance-container table tr:nth-child(even) {
  background-color: #f9f9f9;
}

.attendance-container .summary {
  margin-top: 20px;
  font-weight: bold;
  color: #004d26;
  text-align: right;
  font-size: 1.1rem;
}
</style>
</head>
<body>

<!-- TOP GREEN BAR -->
<div class="top-green">
  <div class="top-links">
    <a href="student-login.html">Student Login</a>
    <a href="parent-login.html">Parent Login</a>
    <a href="staff-login.html">Staff Login</a>
    <a href="email-login.html">Email Login</a>
    <a href="careers.html">Careers</a>
  </div>
  <input type="text" placeholder="Search...">
</div>

<!-- HEADER -->
<header class="main-header">
  <div class="logo-area">
    <a href="index.html">
      <img src="logo.png" alt="Leads Community School Logo">
      <span>Leads Community School</span>
    </a>
  </div>
  <nav class="main-nav">
    <a href="parent-dashboard.html">Dashboard</a>
    <a href="attendance.html">Attendance</a>
    <a href="timetable.html">Timetable</a>
    <a href="report-cards.html">Report Cards</a>
    <a href="fees.html">Fees</a>
    <a href="messages.html">Messages</a>
    <a href="announcements.html">Announcements</a>
  </nav>
</header>

<!-- ATTENDANCE CONTENT -->
<section class="attendance-container">
  <h2>Student Attendance</h2>
  <p>Track your child's daily attendance and monthly summary.</p>

  <!-- CONTROLS: Date Picker & Month Filter -->
  <div class="controls">
    <div>
      <label for="attendance-date">Select Date:</label>
      <input type="date" id="attendance-date">
    </div>

    <div>
      <label for="month-select">Select Month:</label>
      <select id="month-select">
        <option value="01">January</option>
        <option value="02">February</option>
        <option value="03">March</option>
        <option value="04">April</option>
        <option value="05">May</option>
        <option value="06">June</option>
        <option value="07">July</option>
        <option value="08">August</option>
        <option value="09">September</option>
        <option value="10">October</option>
        <option value="11">November</option>
        <option value="12">December</option>
      </select>
    </div>
  </div>

  <!-- ATTENDANCE TABLE -->
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Day</th>
        <th>Status</th>
        <th>Remarks</th>
      </tr>
    </thead>
    <tbody id="attendance-body">
      <!-- Table rows will update dynamically -->
    </tbody>
  </table>

  <div class="summary" id="attendance-summary">
    Total Present: 0 | Total Absent: 0 | Attendance %: 0%
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-contact">
    <h4>Contact Us</h4>
    <p>Leads Community School</p>
    <p>Tel: +233 XXXXXXX</p>
    <p>Email: info@leadsschools.com</p>
  </div>
  <div class="footer-links">
    <h4>Quick Links</h4>
    <a href="parent-dashboard.html">Parent Dashboard</a>
    <a href="student-login.html">Student Login</a>
    <a href="careers.html">Careers</a>
  </div>
</footer>

<div class="copyright">
  Leads Community School Â© 2026. All Rights Reserved.
</div>

<!-- JAVASCRIPT: Dynamic Attendance -->
<script>
// Sample attendance data (you can replace with real data)
const attendanceData = [
  { date: "2026-01-20", status: "Present", remarks: "-" },
  { date: "2026-01-21", status: "Absent", remarks: "Sick" },
  { date: "2026-01-22", status: "Present", remarks: "-" },
  { date: "2026-01-23", status: "Present", remarks: "-" },
  { date: "2026-01-24", status: "Present", remarks: "-" },
  { date: "2026-02-01", status: "Present", remarks: "-" },
  { date: "2026-02-02", status: "Absent", remarks: "Travel" },
];

// References
const tbody = document.getElementById('attendance-body');
const summary = document.getElementById('attendance-summary');
const dateInput = document.getElementById('attendance-date');
const monthSelect = document.getElementById('month-select');

// Function to render table
function renderTable(filterDate = null, filterMonth = null) {
  tbody.innerHTML = '';
  let totalPresent = 0;
  let totalAbsent = 0;

  const filteredData = attendanceData.filter(item => {
    if(filterDate && item.date !== filterDate) return false;
    if(filterMonth && !item.date.startsWith(`2026-${filterMonth}`)) return false;
    return true;
  });

  filteredData.forEach(item => {
    const tr = document.createElement('tr');
    const day = new Date(item.date).toLocaleDateString('en-US', { weekday: 'long' });
    tr.innerHTML = `
      <td>${item.date}</td>
      <td>${day}</td>
      <td>${item.status}</td>
      <td>${item.remarks}</td>
    `;
    tbody.appendChild(tr);

    if(item.status === 'Present') totalPresent++;
    if(item.status === 'Absent') totalAbsent++;
  });

  const total = totalPresent + totalAbsent;
  const percent = total ? Math.round((totalPresent / total) * 100) : 0;
  summary.textContent = `Total Present: ${totalPresent} | Total Absent: ${totalAbsent} | Attendance %: ${percent}%`;
}

// Event listeners
dateInput.addEventListener('change', () => renderTable(dateInput.value, null));
monthSelect.addEventListener('change', () => renderTable(null, monthSelect.value));

// Initial render
renderTable();
</script>

</body>
</html>
